<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>è² æ•¸åŠ æ¸›ï½œæ•¸ç·šç·´ç¿’èˆ‡æ¸¬é©—</title>
<style>
  /* ä¿ç•™åŸæœ¬çš„ CSSï¼Œç•¥ */
</style>
</head>
<body>
<header>
  <div class="brand">
    <div class="logo">â•</div>
    <h1>è² æ•¸åŠ æ¸›ï½œæ•¸ç·šç·´åŠŸæˆ¿</h1>
  </div>
  <div class="toolbar">
    <div class="pill">
      <span>ğŸ‘¤ åç¨±</span>
      <input id="nickname" type="text" placeholder="è¼¸å…¥ä½ çš„æš±ç¨±â€¦" />
    </div>
    <button id="btnSettings" class="ghost">âš™ï¸ è¨­å®š</button>
  </div>
</header>

<div class="layout">
  <main class="card">
    <div class="mode-tabs">
      <button data-mode="practice" class="active">ğŸŒ± ç·´ç¿’ï¼ˆæœ‰æ•¸ç·šï¼‰</button>
      <button data-mode="review">ğŸ§© éŒ¯é¡Œè¤‡ç¿’</button>
      <button data-mode="exam">ğŸ¯ æ¸¬é©—ï¼ˆç„¡æ•¸ç·šï¼‰</button>
    </div>

    <div class="scorebar">
      <div class="chip">â­ åˆ†æ•¸ <span id="score">0</span></div>
      <div class="chip">ğŸ”¥ é€£æ“Š <span id="streak">0</span></div>
      <div class="chip">ğŸ“ ç†Ÿç·´åº¦ <span id="mastery">0%</span></div>
      <div class="chip">ğŸ† æœ€é«˜åˆ† <span id="best">0</span></div>
    </div>

    <div class="big-op">
      <div class="bubble" id="opA">-3</div>
      <div class="bubble" id="opSign">-</div>
      <div class="bubble" id="opB">2</div>
      <div class="bubble">=</div>
      <div>
        <!-- æ”¹é€™è£¡ -->
        <input id="answer" type="text" inputmode="numeric" pattern="-?[0-9]*" />
      </div>
      <button id="btnSubmit">é€å‡º</button>
      <button id="btnSkip" class="flat">ç•¥é</button>
    </div>

    <div id="numlineWrap" class="numline-wrap">
      <div class="label">æ•¸ç·šæç¤º</div>
      <svg id="numline" viewBox="0 0 800 150"></svg>
    </div>

    <div class="answer-row">
      <div id="resultMsg" class="result-msg"></div>
      <button id="btnNext" class="hidden">ä¸‹ä¸€é¡Œ â–¶</button>
      <button id="btnShowSteps" class="ghost hidden">é¡¯ç¤ºæ­¥é©Ÿ</button>
    </div>
  </main>

  <aside class="right-col">
    <!-- æ’è¡Œæ¦œèˆ‡éŒ¯é¡Œå€å¡Šï¼Œç•¥ -->
  </aside>
</div>

<script>
/* ä¿ç•™åŸæœ¬ JSï¼Œå¤§éƒ¨åˆ†ä¸è®Šï¼Œåƒ…ä¿®æ”¹ submitAnswer() */

function submitAnswer(){
  const userAns = parseInt(elAns.value, 10); // âœ… æ”¹æˆ parseInt
  if(Number.isNaN(userAns)) {
    elMsg.textContent = 'è«‹è¼¸å…¥æ•´æ•¸ç­”æ¡ˆ';
    elMsg.className = 'result-msg ng';
    return;
  }
  const {a,b,sign} = state;
  const correctAns = sign==='+' ? a+b : a-b;
  const ok = (userAns===correctAns);

  // ï¼ˆä»¥ä¸‹ç¶­æŒåŸæœ¬æµç¨‹ï¼Œç•¥ï¼‰
}
</script>
</body>
</html>
